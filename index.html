<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Nomad</title>
    <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="loading-screen" style="
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100vw;
      height: 100vh;
      background-color: #000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 99999;
      transition: opacity 1s ease-out;
      padding: 0;
      margin: 0;
      overflow: hidden;">
      <div style="
        color: #9300ff; 
        font-size: clamp(12px, 1.8vw, 20px);
        margin-bottom: clamp(12px, 2vw, 24px);
        font-style: italic;
        max-width: min(600px, 80vw);
        text-align: center;
        line-height: 1.8;
        filter: drop-shadow(0 0 8px rgba(147, 0, 255, 0.8)) 
                drop-shadow(0 0 20px rgba(147, 0, 255, 0.4));">
        Le nomade se distribue<br>
        dans un espace lisse,<br>
        il occupe, il habite,<br>
        il tient cet espace,<br>
        et c'est l√† son<br>
        principe territorial.
      </div>
      <div class="loading-dots" style="
        color: #9300ff;
        font-size: clamp(24px, 4vw, 48px);
        letter-spacing: clamp(6px, 1.2vw, 12px);
        filter: drop-shadow(0 0 8px rgba(147, 0, 255, 0.8));">
        <span class="dot" style="animation-delay: 0s">.</span>
        <span class="dot" style="animation-delay: 0.2s">.</span>
        <span class="dot" style="animation-delay: 0.4s">.</span>
      </div>
    </div>
    <div class="menu">
        <h1>Data Nomad</h1>
        <ul class="menu-list">
            <li class="menu-item active">Population Density</li>
            <li class="menu-item">Crime Rate</li>
            <li class="menu-item">Income Level</li>
            <li class="menu-item">Housing Price</li>
            <li class="menu-item">Transit Usage</li>
        </ul>
    </div>
    <div class="info-window">
        <div class="info-content">
            <h2>Data Overview</h2>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-label">Total Points</span>
                    <span class="stat-value">500</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Area Coverage</span>
                    <span class="stat-value">Manhattan</span>
                </div>
            </div>
        </div>
    </div>
    <div id="container">
        <div id="map"></div>
        <div id="debug-info">
            <h3>Debug Info</h3>
        </div>
        <select class="dataset-select">
            <option value="nyc_central">NYC_Central(Test)</option>
        </select>
    </div>
    <style>
    @keyframes loadingDot {
      0%, 100% { 
        opacity: 0.2;
        transform: translateX(-50%);
      }
      50% { 
        opacity: 1;
        transform: translateX(50%);
      }
    }

    .loading-dots .dot {
      display: inline-block;
      animation: loadingDot 1.4s infinite ease-in-out;
    }
    </style>
    <script src="script.js"></script>
</body>
</html>
